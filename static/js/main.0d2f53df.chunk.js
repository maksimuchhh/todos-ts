(this["webpackJsonptodos-ts"]=this["webpackJsonptodos-ts"]||[]).push([[0],{117:function(e,t,n){},125:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var o,c,a,i,r=n(0),d=n.n(r),l=n(16),s=n.n(l),u=n(36),j=n(23),b=(n(117),n(186)),O=n(26),h=n(62),f={getAllTodosGraphql:Object(O.gql)(o||(o=Object(h.a)(["\n  query {\n    getAllTodos {\n      id\n      title\n      completed\n    }\n  }\n"]))),addTodoGraphql:Object(O.gql)(c||(c=Object(h.a)(["\n  mutation addTodo($title: TodoInput) {\n    addTodo(todo: $title) {\n      id\n      title\n      completed\n    }\n  }\n"]))),removeTodoGraphql:Object(O.gql)(a||(a=Object(h.a)(["\n  mutation removeTodo($id: ID!) {\n    removeTodo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"]))),updateTodoGraphql:Object(O.gql)(i||(i=Object(h.a)(["\n  mutation updateTodo($id: ID!) {\n    updateTodo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"])))},m=n(181),p=n(183),g=n(9),v=function(e){return Object(g.jsx)("header",{children:Object(g.jsx)("h1",{className:"logo",children:"Todos"})})},x=n(185),T=n(103),q=n.n(T),y=n(173),N=n(177),G=n(179),A=n(188),C=n(178),S=(n(125),function(e){var t=e.todos,n=e.removeTodo,o=e.toggleTodo;return t&&0!==t.length?Object(g.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(g.jsxs)(y.a,{dense:!0,button:!0,divider:!0,onClick:function(){return o(e.id)},children:[Object(g.jsx)(N.a,{children:Object(g.jsx)(x.a,{checked:e.completed})}),Object(g.jsx)(A.a,{primary:e.title,style:e.completed?{textDecoration:"line-through"}:void 0}),Object(g.jsx)(G.a,{onClick:function(){return n(e.id)},children:Object(g.jsx)(C.a,{className:"delete-button",children:Object(g.jsx)(q.a,{className:"delete-icon"})})})]},e.id)}))}):Object(g.jsx)("div",{className:"addTodos-placeholder",children:"No todos yet!"})}),$=n(184),k=n(187),w=function(e){var t=e.error;return Object(g.jsx)(k.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!t,children:Object(g.jsx)($.a,{variant:"filled",severity:"error",children:t})})},I=f.getAllTodosGraphql,M=f.addTodoGraphql,D=f.removeTodoGraphql,E=f.updateTodoGraphql,J=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),a=Object(j.a)(c,2),i=a[0],d=a[1],l=Object(r.useState)(null),s=Object(j.a)(l,2),h=s[0],f=s[1],x=Object(r.useState)(!1),T=Object(j.a)(x,2),q=T[0],y=T[1],N=Object(O.useQuery)(I),G=N.data,A=N.loading,C=Object(O.useMutation)(M),$=Object(j.a)(C,2),k=$[0],J=$[1].loading,z=Object(O.useMutation)(D),B=Object(j.a)(z,2),F=B[0],P=B[1].loading,Q=Object(O.useMutation)(E),H=Object(j.a)(Q,2),K=H[0],L=H[1].loading;return Object(r.useEffect)((function(){G&&o(null===G||void 0===G?void 0:G.getAllTodos)}),[G]),Object(r.useEffect)((function(){h&&setTimeout((function(){return f(null)}),6e3)}),[h]),Object(r.useEffect)((function(){y(!!(J||P||A||!0===L))}),[J,P,A,L]),Object(g.jsxs)(g.Fragment,{children:[q?Object(g.jsx)(m.a,{className:"loader"}):null,Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(v,{}),Object(g.jsx)(w,{error:h}),Object(g.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),i?(k({variables:{title:{title:i}}}).then((function(e){var t=e.data;o((function(e){return[t.addTodo].concat(Object(u.a)(e))}))})).catch((function(e){return f(e.message)})),d("")):f("Type something")},children:Object(g.jsx)(p.a,{id:"standard-basic",style:{width:"100%"},label:"Add your todo",variant:"standard",color:"primary",value:i,onChange:function(e){return d(e.target.value)}})}),Object(g.jsx)(b.a,{in:0!==n.length,timeout:250,classNames:"transition-list",children:Object(g.jsx)(S,{todos:n,removeTodo:function(e){F({variables:{id:e}}).then((function(){return o((function(t){return t.filter((function(t){return t.id!==e}))}))})).catch((function(e){return f(e.message)}))},toggleTodo:function(e){K({variables:{id:e}}).then((function(e){var t=e.data;return o(t.updateTodo)})).catch((function(e){return f(e.message)}))}})})]})]})},z=n(182),B=new O.ApolloClient({cache:new O.InMemoryCache,uri:"http://localhost:3005/graphql?"});s.a.render(Object(g.jsx)(d.a.StrictMode,{children:Object(g.jsxs)(O.ApolloProvider,{client:B,children:[Object(g.jsx)(z.a,{}),Object(g.jsx)(J,{})]})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.0d2f53df.chunk.js.map